@using EnglishForKid.Models.ViewModels
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
<!-- /.box -->
<div class="box box-success">
    <div class="box-header with-border">
        <h3 class="box-title">LIST OF STUDENTS</h3>
        <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse">
                <i class="fa fa-minus"></i>
            </button>
            <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
        </div>
    </div>

    <script src="~/Areas/Admin/Scripts/Account/student.js"></script>
    <!-- /.box-header -->
    <div class="box-body padding-large">
        <table id="studentTable" class="table table-bordered table-striped text-center">
            <thead>
                <tr>
                    <th hidden>ID</th>
                    <th>Index</th>
                    <th>Username</th>
                    <th>Full Name</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                @{
                    int i = 1;
                    foreach (UserReturnModel user in ViewBag.Users)
                    {
                        <tr>
                            <td hidden>@user.Id</td>
                            <td>@i</td>
                            <td>@user.UserName</td>
                            <td>@user.FullName</td>
                            <td>@user.GetStatus()</td>
                            <td>
                                <button type="button" class="btn btn-info view-Account" data-id="@user.Id" data-toggle="modal" data-target="#myModalDetailStudent">Detail</button>
                                <button type="button" class="btn btn-success update-Account" data-id="@user.Id" data-toggle="modal" data-target="#myModalUpdateStudent">Update</button>
                                <button type="button" class="btn btn-danger block-Account" data-status="@user.Status" data-id="@user.Id" data-toggle="modal" data-target="#myModalBlockStudent">
                                    @{
                                        if (user.Status)
                                        {
                                            <text>Block</text>
                                        }
                                        else
                                        {
                                            <text>Unlock</text>
                                        }
                                    }
                                </button>
                                <button type="button" class="btn btn-primary Auth-Account" data-id="@user.Id" data-toggle="modal" data-target="">Auth</button>
                            </td>
                        </tr>
                                            i++;
                                        }
                }
            </tbody>

        </table>
    </div>
    <!-- /.box-body -->
</div>
<!-- /.box -->
<!-- /.box teacher -->
<div class="box box-primary">
    <div class="box-header with-border">
        <h3 class="box-title">LIST OF TEACHERS</h3>
        <div class="box-tools pull-right">
            <a id="btnCreateTeacher" class="btn btn-primary">
                <i class="fa fa-adjust"></i> Create
            </a>
            <button type="button" class="btn btn-box-tool" data-widget="collapse">
                <i class="fa fa-minus"></i>
            </button>
        </div>
    </div>

    <script src="~/Areas/Admin/Scripts/Account/student.js"></script>
    <!-- /.box-header -->
    <div class="box-body padding-large">
        <table id="teacherTable" class="table table-bordered table-responsive table-condensed text-center">
            <thead>
                <tr>
                    <th hidden>ID</th>
                    <th>Index</th>
                    <th>Username</th>
                    <th>Full Name</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                @{
                    i = 1;
                    foreach (UserReturnModel user in ViewBag.Teachers)
                    {
                        <tr>
                            <td hidden>@user.Id</td>
                            <td>@i</td>
                            <td>@user.UserName</td>
                            <td>@user.FullName</td>
                            <td>@user.GetStatus()</td>
                            <td>
                                <button type="button" class="btn btn-info view-Account" data-id="@user.Id" data-toggle="modal" data-target="#myModalDetailStudent">Detail</button>
                                <button type="button" class="btn btn-success update-Account" data-id="@user.Id" data-toggle="modal" data-target="#myModalUpdateStudent">Update</button>
                                <button type="button" class="btn btn-danger block-Account" data-status="@user.Status" data-id="@user.Id" data-toggle="modal" data-target="#myModalBlockStudent">
                                    @{
                                        if (user.Status)
                                        {
                                            <text>Block</text>
                                        }
                                        else
                                        {
                                            <text>Unlock</text>
                                        }
                                    }
                                </button>
                                <button type="button" class="btn btn-primary Auth-Account" data-id="@user.Id" data-toggle="modal" data-target="">Auth</button>
                            </td>
                        </tr>
                                            i++;
                                        }
                }
            </tbody>

        </table>
    </div>
    <!-- /.box-body -->
</div>
<!-- /.box teacher-->
<!-- /.box admin-->
<div class="box box-danger">
    <div class="box-header with-border">
        <h3 class="box-title">LIST OF ADMINS</h3>
        <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse">
                <i class="fa fa-minus"></i>
            </button>
        </div>
    </div>

    <script src="~/Areas/Admin/Scripts/Account/student.js"></script>
    <!-- /.box-header -->
    <div class="box-body padding-large">
        <table id="adminTable" class="table table-bordered table-striped text-center">
            <thead>
                <tr>
                    <th hidden>ID</th>
                    <th>Index</th>
                    <th>Username</th>
                    <th>Full Name</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                @{
                    i = 1;
                    foreach (UserReturnModel user in ViewBag.Admins)
                    {
                        <tr>
                            <td hidden>@user.Id</td>
                            <td>@i</td>
                            <td>@user.UserName</td>
                            <td>@user.FullName</td>
                            <td>@user.GetStatus()</td>
                            <td>
                                <button type="button" class="btn btn-info view-Account" data-id="@user.Id" data-toggle="modal" data-target="#myModalDetailStudent">Detail</button>
                                <button type="button" class="btn btn-success update-Account" data-id="@user.Id" data-toggle="modal" data-target="#myModalUpdateStudent">Update</button>
                                <button type="button" class="btn btn-danger block-Account" data-status="@user.Status" data-id="@user.Id" data-toggle="modal" data-target="#myModalBlockStudent">
                                    @{
                                        if (user.Status)
                                        {
                                            <text>Block</text>
                                        }
                                        else
                                        {
                                            <text>Unlock</text>
                                        }
                                    }
                                </button>
                                <button type="button" class="btn btn-primary Auth-Account" data-id="@user.Id" data-toggle="modal" data-target="">Auth</button>
                            </td>
                        </tr>
                                            i++;
                                        }
                }
            </tbody>

        </table>
    </div>
    <!-- /.box-body -->
</div>
<!-- /.box -->

<div class="modal fade" id="myModalBlockStudent" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content" style="margin:2%;">
            <div class="modal-header">
                <input type="text" id="block-account-id" hidden />
                <input type="text" id="block-account-status" hidden />
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Warning</h4>
            </div>
            <div class="modal-body">
                <div class="box-body padding-large">
                    <form>
                        <div class="form-group">
                            <label class="text-center">Do you want to block this account?</label>
                        </div>

                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <div class="form-group">
                    <label id="blockMessage" class="pull-left text-danger"></label>
                    <button type="button" id="btn-block-account" class="btn btn-success pull-right margin-r-5">Yes</button>
                    <button type="button" class="btn btn-danger pull-right margin-r-5" data-dismiss="modal">No</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="myModalDetailStudent" role="dialog">
    <div class="modal-dialog modal-lg">
        <!-- Modal content-->
        <div class="modal-content" style="margin:2%;">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">STUDENT INFORMATION</h4>
            </div>
            <div class="modal-body">
                <div id="viewAccount">

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="myModalUpdateStudent" role="dialog">
    <div class="modal-dialog modal-lg">
        <!-- Modal content-->
        <div class="modal-content" style="margin:2%;">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">UPDATE STUDENT</h4>
            </div>
            <div class="modal-body">
                <div id="updateAccount">
                </div>
            </div>
            <div class="modal-footer">

            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $("#birthdate").datepicker({
            autoclose: true,
            format: 'yyyy-mm-dd',
            todayHighlight: true,
            clearBtn: true,
            orientation: 'bottom'
        });
    });
</script>

<script src="~/Areas/Admin/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
<script>
    $(document).ready(function () {
        var studentTable = $('#studentTable').DataTable();
        var teacherTable = $('#teacherTable').DataTable();
        var adminTable = $('#adminTable').DataTable();
        document.getElementById('btnCreateTeacher').href = window.location.origin + "/Admin/Account/Create";
    });
</script>
